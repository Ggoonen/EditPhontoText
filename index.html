<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تطبيق جوال</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- ربط ملف التنسيقات الخاص بك (style.css) -->
    <link rel="stylesheet" href="style.css"> 
</head>
<body oncontextmenu="return false;" ondragstart="return false;">
    <div class="w-full max-w-md mx-auto h-screen relative overflow-hidden rounded-3xl shadow-2xl bg-gray-800">
        <div id="main-menu-view" class="view transform translate-x-0">
            <div id="dollar-collector" class="bg-gray-700 rounded-xl shadow-md">
                <div id="dollar-collector-progress"></div>
                <h3 class="font-semibold text-gray-100 relative z-10 text-center underline text-xs">موارد متراكمة</h3>
                <div class="resource-display-row">
                    <div class="flex items-center text-gray-200 text-sm">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 ml-1 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V3m0 9v3m0 3.545c-1.472 0-2.688-.475-3.463-1.249A3.987 3.987 0 018 18a4 4 0 00-4 4h16c0-2.209-1.791-4-4-4a4 4 0 01-3.463-1.249C14.688 17.07 13.472 16.545 12 16.545z" />
                        </svg>
                        <span class="font-bold text-green-300" id="accumulated-dollars-display">$0</span>
                    </div>
                    <div class="flex items-center text-gray-200 text-sm">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 ml-1 text-yellow-400" viewBox="0 0 24 24" fill="currentColor">
                            <path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm.5 4.75a.75.75 0 00-1.5 0v.625H9.75a.75.75 0 000 1.5h1.25v.625a.75.75 0 001.5 0v-.625h1.25a.75.75 0 000-1.5h-1.25V7a.75.75 0 00-.75-.75zM12 18a.75.75 0 00.75-.75v-1.5a.75.75 0 00-1.5 0v1.5c0 .414.336.75.75.75zM12 13.5a.75.75 0 00.75-.75V9.75a.75.75 0 00-1.5 0v3c0 .414.336.75.75.75z" clip-rule="evenodd" />
                        </svg>
                        <span class="font-bold text-yellow-300" id="accumulated-points-display">0</span>
                    </div>
                    <div class="flex items-center text-gray-200 text-sm">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 ml-1 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" />
                        </svg>
                        <span class="font-bold text-red-300" id="accumulated-power-display">0</span>
                    </div>
                    <button id="collect-dollars-button" class="bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-3 rounded-lg shadow-md transition duration-200 ease-in-out text-xs">
                        استلام
                    </button>
                </div>
            </div>

            <div class="bg-gray-700 p-4 rounded-xl mb-6 shadow-md text-center mt-24"> <!-- Adjusted margin-top for dollar collector -->
                <h2 class="text-xl font-bold text-gray-100 mb-3" id="player-name-display">تعيين اسم</h2>
                <div class="flex items-center justify-center gap-x-4 mb-3">
                    <div class="flex items-center text-gray-200">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1 text-yellow-400" viewBox="0 0 24 24" fill="currentColor">
                            <path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm.5 4.75a.75.75 0 00-1.5 0v.625H9.75a.75.75 0 000 1.5h1.25v.625a.75.75 0 001.5 0v-.625h1.25a.75.75 0 000-1.5h-1.25V7a.75.75 0 00-.75-.75zM12 18a.75.75 0 00.75-.75v-1.5a.75.75 0 00-1.5 0v1.5c0 .414.336.75.75.75zM12 13.5a.75.75 0 00.75-.75V9.75a.75.75 0 00-1.5 0v3c0 .414.336.75.75.75z" clip-rule="evenodd" />
                        </svg>
                        <span class="text-base" id="player-points-display">0</span>
                    </div>
                    <div class="flex items-center text-gray-200">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V3m0 9v3m0 3.545c-1.472 0-2.688-.475-3.463-1.249A3.987 3.987 0 018 18a4 4 0 00-4 4h16c0-2.209-1.791-4-4-4a4 4 0 01-3.463-1.249C14.688 17.07 13.472 16.545 12 16.545z" />
                        </svg>
                        <span class="text-base" id="player-dollars-display"> و$0</span>
                    </div>
                    <div class="flex items-center text-gray-200">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" />
                        </svg>
                        <span class="text-base" id="player-total-power-display-main">0</span>
                    </div>
                </div>
            </div>

            <h1 class="text-3xl font-bold text-center text-gray-100 mb-8">القائمة الرئيسية</h1>
            <div class="grid grid-cols-2 gap-6 view-content">
                <div id="play-menu-item" class="menu-item bg-gradient-to-br from-green-600 to-teal-700 text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center shadow-lg cursor-pointer">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9.75 17.25L15 12l-5.25-5.25M12 21a9 9 0 110-18 9 9 0 010 18z" />
                    </svg>
                    <span class="text-lg font-semibold">العب</span>
                </div>
                <div id="attack-log-menu-item" class="menu-item bg-gradient-to-br from-orange-600 to-red-700 text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center shadow-lg cursor-pointer">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" />
                    </svg>
                    <span class="text-lg font-semibold">سجل التحدي</span>
                </div>
                <div id="store-menu-item" class="menu-item bg-gradient-to-br from-blue-600 to-cyan-700 text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center shadow-lg cursor-pointer">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                    </svg>
                    <span class="text-lg font-semibold">متجر</span>
                </div>
                <div id="online-menu-item" class="menu-item bg-gradient-to-br from-yellow-600 to-amber-700 text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center shadow-lg cursor-pointer">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" />
                    </svg>
                    <span class="text-lg font-semibold">اونلاين</span>
                </div>
                <div id="challenge-menu-item" class="menu-item bg-gradient-to-br from-gray-600 to-gray-700 text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center shadow-lg cursor-pointer">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M17 20h2v-2a3 3 0 00-3-3H8a3 3 0 00-3 3v2H3m10-9a4 4 0 11-8 0 4 4 0 018 0zM7 10h.01M12 12h.01M17 12h.01M12 15h.01M12 18h.01M12 21h.01" />
                    </svg>
                    <span class="text-lg font-semibold">تحدي اللاعبون</span>
                </div>
                <div id="redeem-code-menu-item" class="menu-item bg-gradient-to-br from-pink-600 to-red-600 text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center shadow-lg cursor-pointer">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.707-8.707z" />
                    </svg>
                    <span class="text-lg font-semibold">رمز تعويضي</span>
                </div>
            </div>
        </div>

        <div id="attack-log-view" class="view transform translate-x-full">
            <div id="back-to-main-from-attack-log" class="absolute top-4 left-4 text-gray-400 hover:text-gray-200 cursor-pointer">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                </svg>
            </div>
            <h1 class="text-3xl font-bold text-center text-gray-100 mb-8">سجل التحدي</h1>

            <div class="view-content">
                <div class="bg-gray-700 p-6 rounded-xl mb-6 shadow-md">
                    <h2 class="text-xl font-semibold text-gray-100 mb-4">سجل الهجمات العالمية (آخر 5)</h2>
                    <div id="global-attacks-list" class="flex flex-col gap-2">
                        <p class="text-gray-400 text-center">لا توجد هجمات عالمية حالياً.</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="game-view" class="view transform translate-x-full">
            <div id="back-to-main-from-game" class="absolute top-4 left-4 text-gray-400 hover:text-gray-200 cursor-pointer">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                </svg>
            </div>
            <h1 class="text-3xl font-bold text-center text-gray-100 mb-8">العب</h1>

            <div id="game-info-icon" class="absolute top-4 right-4 text-gray-400 hover:text-gray-200 cursor-pointer">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                </svg>
            </div>

            <div id="inventory-icon" class="absolute top-4 left-12 text-gray-400 hover:text-gray-200 cursor-pointer flex items-center p-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon-lg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4m0-10h.01" />
                </svg>
                <span id="inventory-count" class="bg-red-500 text-white text-xs font-bold rounded-full px-2 py-0.5 -mt-2 -mr-2">0</span>
            </div>

            <div class="flex items-center justify-center mb-6">
                <button id="innovation-prev-button" class="text-gray-400 hover:text-gray-200 p-2 rounded-full transition-colors duration-200">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
                <button id="innovation-button" class="text-white font-bold flex items-center mx-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17H21l-9-15-9 15h11.337z" />
                    </svg>
                    <span id="innovation-button-text">
                        <span>تفعيل الابتكار</span>
                        <span class="price-display">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V3m0 9v3m0 3.545c-1.472 0-2.688-.475-3.463-1.249A3.987 3.987 0 018 18a4 4 0 00-4 4h16c0-2.209-1.791-4-4-4a4 4 0 01-3.463-1.249C14.688 17.07 13.472 16.545 12 16.545z" />
                        </svg>
                            <span>مجاني</span>
                        </span>
                    </span>
                </button>
                <button id="innovation-next-button" class="text-gray-400 hover:text-gray-200 p-2 rounded-full transition-colors duration-200">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                    </svg>
                </button>
            </div>
            <div id="innovation-timer" class="text-gray-300 text-lg text-center mb-6 hidden">
                الوقت المتبقي: <span id="timer-display-value">5:00</span>
            </div>

            <div id="game-total-power-display" class="text-gray-200 text-lg text-center mb-4">
                القوة الإجمالية: <span id="player-total-power-display-game" class="font-bold text-red-400">0</span>
            </div>

            <div id="next-house-info" class="text-gray-300 text-center text-base mb-6 hidden">
            </div>

            <div id="houses-container" class="grid grid-cols-2 gap-4 justify-items-center view-content">
            </div>
        </div>

        <div id="store-view" class="view transform translate-x-full">
            <div id="back-to-main-from-store" class="absolute top-4 left-4 text-gray-400 hover:text-gray-200 cursor-pointer">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                </svg>
            </div>
            <h1 class="text-3xl font-bold text-center text-gray-100 mb-8">المتجر</h1>

            <div class="flex items-center justify-center gap-x-4 mb-6 bg-gray-700 p-3 rounded-xl shadow-md">
                <div class="flex items-center text-gray-200">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1 text-yellow-400" viewBox="0 0 24 24" fill="currentColor">
                            <path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm.5 4.75a.75.75 0 00-1.5 0v.625H9.75a.75.75 0 000 1.5h1.25v.625a.75.75 0 001.5 0v-.625h1.25a.75.75 0 000-1.5h-1.25V7a.75.75 0 00-.75-.75zM12 18a.75.75 0 00.75-.75v-1.5a.75.75 0 00-1.5 0v1.5c0 .414.336.75.75.75zM12 13.5a.75.75 0 00.75-.75V9.75a.75.75 0 00-1.5 0v3c0 .414.336.75.75.75z" clip-rule="evenodd" />
                        </svg>
                    <span class="text-base" id="store-player-points-display">0</span>
                </div>
                <div class="flex items-center text-gray-200">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V3m0 9v3m0 3.545c-1.472 0-2.688-.475-3.463-1.249A3.987 3.987 0 018 18a4 4 0 00-4 4h16c0-2.209-1.791-4-4-4a4 4 0 01-3.463-1.249C14.688 17.07 13.472 16.545 12 16.545z" />
                        </svg>
                    <span class="text-base" id="store-player-dollars-display">$0</span>
                </div>
                <div class="flex items-center text-gray-200">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" />
                    </svg>
                    <span class="text-base" id="store-player-total-power-display">0</span>
                </div>
            </div>

            <div class="grid grid-cols-2 gap-4 view-content">
                <div id="store-item-reduce-time" class="store-item">
                    <img src="https://f.top4top.io/p_3479ijdcl0.png" alt="Reduce Time">
                    <span class="item-title">تقليل وقت الابتكار</span>
                    <button class="buy-button">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V3m0 9v3m0 3.545c-1.472 0-2.688-.475-3.463-1.249A3.987 3.987 0 018 18a4 4 0 00-4 4h16c0-2.209-1.791-4-4-4a4 4 0 01-3.463-1.249C14.688 17.07 13.472 16.545 12 16.545z" />
                        </svg>
                        <span>200</span>
                    </button>
                </div>
                <div id="store-item-convert-points" class="store-item">
                    <img src="https://i.top4top.io/s_34795cyi20.png" alt="Convert Points">
                    <span class="item-title">تحويل النقاط</span>
                    <button class="buy-button">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1 text-yellow-400" viewBox="0 0 24 24" fill="currentColor">
                            <path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm.5 4.75a.75.75 0 00-1.5 0v.625H9.75a.75.75 0 000 1.5h1.25v.625a.75.75 0 001.5 0v-.625h1.25a.75.75 0 000-1.5h-1.25V7a.75.75 0 00-.75-.75zM12 18a.75.75 0 00.75-.75v-1.5a.75.75 0 00-1.5 0v1.5c0 .414.336.75.75.75zM12 13.5a.75.75 0 00.75-.75V9.75a.75.75 0 00-1.5 0v3c0 .414.336.75.75.75z" clip-rule="evenodd" />
                        </svg>
                        <span>500</span>
                    </button>
                </div>
                <div id="store-item-buy-innovation3" class="store-item">
                    <img src="https://f.top4top.io/s_34796x9520.png" alt="Buy Innovation 3">
                    <span class="item-title">شراء ابتكار ثالث</span>
                    <button class="buy-button">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1 text-yellow-400" viewBox="0 0 24 24" fill="currentColor">
                            <path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm.5 4.75a.75.75 0 00-1.5 0v.625H9.75a.75.75 0 000 1.5h1.25v.625a.75.75 0 001.5 0v-.625h1.25a.75.75 0 000-1.5h-1.25V7a.75.75 0 00-.75-.75zM12 18a.75.75 0 00.75-.75v-1.5a.75.75 0 00-1.5 0v1.5c0 .414.336.75.75.75zM12 13.5a.75.75 0 00.75-.75V9.75a.75.75 0 00-1.5 0v3c0 .414.336.75.75.75z" clip-rule="evenodd" />
                        </svg>
                        <span>3000</span>
                    </button>
                </div>
            </div>
        </div>

        <div id="challenge-view" class="view transform translate-x-full">
            <div id="back-to-main-from-challenge" class="absolute top-4 left-4 text-gray-400 hover:text-gray-200 cursor-pointer">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                </svg>
            </div>
            <h1 class="text-3xl font-bold text-center text-gray-100 mb-8">تحدي اللاعبون</h1>
            <div id="challenge-players-list" class="view-content flex flex-col gap-4">
                <p class="text-gray-300 text-center">جاري تحميل لاعب...</p>
            </div>
        </div>

        <div id="online-view" class="view transform translate-x-full">
            <div id="back-to-main-from-online" class="absolute top-4 left-4 text-gray-400 hover:text-gray-200 cursor-pointer">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                </svg>
            </div>
            <h1 class="text-3xl font-bold text-center text-gray-100 mb-8">اونلاين</h1>
            
            <div class="view-content">
                <div class="bg-gray-700 p-4 rounded-xl mb-6 shadow-md">
                    <h2 class="text-xl font-semibold text-gray-100 mb-4">اللاعبون المتصلون</h2>
                    <div id="online-players-list" class="flex flex-col gap-3">
                        <p class="text-gray-400 text-center">لا يوجد لاعبون متصلون حالياً.</p>
                    </div>
                </div>

                <div class="bg-gray-700 p-4 rounded-xl shadow-md">
                    <h2 class="text-xl font-semibold text-gray-100 mb-4">جميع اللاعبين</h2>
                    <div id="all-players-list" class="flex flex-col gap-3">
                        <p class="text-gray-400 text-center">لا يوجد لاعبون مسجلون.</p>
                    </div>
                </div>
            </div>

            <div id="online-player-total-power-display" class="text-gray-200 text-lg text-center mt-4">
                قوتك الإجمالية: <span class="font-bold text-red-400" id="player-total-power-display-online">0</span>
            </div>
        </div>

        <div id="redeem-code-view" class="view transform translate-x-full">
            <div id="back-to-main-from-redeem-code" class="absolute top-4 left-4 text-gray-400 hover:text-gray-200 cursor-pointer">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                </svg>
            </div>
            <h1 class="text-3xl font-bold text-center text-gray-100 mb-8">رمز تعويضي</h1>
            <div class="bg-gray-700 p-6 rounded-xl shadow-md text-center">
                <input type="text" id="redeem-code-input" class="w-full p-3 rounded-lg bg-gray-800 text-white placeholder-gray-400 mb-6 focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="أدخل الرمز التعويضي هنا...">
                <button id="redeem-code-button" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-5 rounded-lg shadow-md transition duration-200 ease-in-out">
                    تفعيل الرمز
                </button>
                <p id="redeem-status-message" class="redeem-status"></p>
            </div>
        </div>
    </div>

    <div id="popup-modal" class="modal-overlay hidden">
        <div class="popup-content text-center max-w-sm w-full transform scale-95 opacity-0">
            <h3 class="text-2xl font-bold text-gray-100 mb-4">تم الترقية!</h3>
            <p class="text-gray-200 text-lg mb-2">القوة المرتفعة: <span id="power-increase-display" class="popup-number text-yellow-300"></span></p>
            <p class="text-gray-200 text-lg mb-6">القوة الإجمالية: <span id="total-power-display" class="popup-number text-green-300"></span></p>
            <button id="popup-close-button" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-5 rounded-lg shadow-md transition duration-200 ease-in-out">
                حسناً
            </button>
        </div>
    </div>

    <div id="house-info-modal" class="modal-overlay hidden">
        <div class="bg-gray-700 p-8 rounded-xl shadow-2xl text-center max-w-sm w-full transform scale-95 opacity-0 transition-all duration-300 ease-out">
            <h3 class="text-2xl font-bold text-gray-100 mb-4">معلومات البيت والترقيات</h3>
            <div class="text-gray-200 text-lg mb-6 text-right">
                <p class="font-bold mb-2">جوائز ترقية البيت:</p>
                <ul id="house-upgrade-rewards-list" class="list-none p-0 m-0">
                </ul>
            </div>
            <button id="house-info-close-button" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-5 rounded-lg shadow-md transition duration-200 ease-in-out">
                حسناً
            </button>
        </div>
    </div>

    <div id="message-modal" class="modal-overlay hidden">
        <div class="message-modal-content text-center max-w-sm w-full transform scale-95 opacity-0">
            <h3 class="text-2xl font-bold text-gray-100 mb-4" id="message-modal-title"></h3>
            <p class="text-gray-200 text-lg mb-6" id="message-modal-text"></p>
            <button id="message-modal-close-button" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-5 rounded-lg shadow-md transition duration-200 ease-in-out">
                حسناً
            </button>
        </div>
    </div>

    <div id="password-input-modal" class="modal-overlay hidden">
        <div class="message-modal-content text-center max-w-sm w-full transform scale-95 opacity-0">
            <h3 class="text-2xl font-bold text-gray-100 mb-4">أدخل كلمة المرور</h3>
            <input type="password" id="password-input" class="w-full p-3 rounded-lg bg-gray-800 text-white placeholder-gray-400 mb-6 focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="كلمة المرور..." maxlength="20">
            <div class="flex justify-center gap-4">
                <button id="password-confirm-button" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-5 rounded-lg shadow-md transition duration-200 ease-in-out">
                    تأكيد
                </button>
                <button id="password-cancel-button" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-5 rounded-lg shadow-md transition duration-200 ease-in-out">
                    إلغاء
                </button>
            </div>
        </div>
    </div>

    <div id="store-detail-modal" class="modal-overlay hidden">
        <div class="bg-gray-700 p-8 rounded-xl shadow-2xl text-center max-w-sm w-full transform scale-95 opacity-0 transition-all duration-300 ease-out">
            <img id="store-detail-image" src="" alt="Item Image" class="h-24 w-24 object-contain mx-auto mb-4">
            <h3 id="store-detail-title" class="text-2xl font-bold text-gray-100 mb-2"></h3>
            <p id="store-detail-description" class="text-gray-300 text-base mb-4"></p>
            
            <div id="quantity-selection" class="flex items-center justify-center gap-4 mb-6">
                <button id="store-detail-quantity-minus" class="quantity-button">-</button>
                <span id="store-detail-quantity-display" class="text-white text-lg font-bold">1</span>
                <button id="store-detail-quantity-plus" class="quantity-button">+</button>
            </div>
            <p class="text-gray-200 text-lg mb-6">التكلفة الإجمالية: <span class="text-green-400 font-bold" id="store-detail-total-cost"></span></p>

            <div class="flex justify-center gap-4">
                <button id="store-detail-confirm-button" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-5 rounded-lg shadow-md transition duration-200 ease-in-out">
                    تأكيد الشراء
                </button>
                <button id="store-detail-cancel-button" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-5 rounded-lg shadow-md transition duration-200 ease-in-out">
                    إلغاء
                </button>
            </div>
        </div>
    </div>

    <div id="inventory-modal" class="modal-overlay hidden">
        <div class="bg-gray-700 p-8 rounded-xl shadow-2xl text-center max-w-sm w-full transform scale-95 opacity-0 transition-all duration-300 ease-out">
            <h3 class="text-2xl font-bold text-gray-100 mb-6">حقيبتي</h3>
            <div id="inventory-items-list" class="flex flex-col gap-4">
            </div>
            <button id="inventory-close-button" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-5 rounded-lg shadow-md transition duration-200 ease-in-out mt-6">
                إغلاق
            </button>
        </div>
    </div>

    <div id="auth-flow-modal" class="modal-overlay hidden">
        <div class="bg-gray-700 p-8 rounded-xl shadow-2xl text-center max-w-sm w-full transform scale-95 opacity-0">
            <h3 class="text-2xl font-bold text-gray-100 mb-4" id="auth-modal-title"></h3>
            
            <div id="set-name-section">
                <input type="text" id="player-name-input" class="w-full p-3 rounded-lg bg-gray-800 text-white placeholder-gray-400 mb-6 focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="أدخل اسمك هنا..." maxlength="15">
                <div class="flex justify-center gap-4">
                    <button id="set-name-confirm-button" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-5 rounded-lg shadow-md transition duration-200 ease-in-out">
                        تأكيد الاسم
                    </button>
                    <button id="set-name-continue-guest-button" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-5 rounded-lg shadow-md transition duration-200 ease-in-out">
                        المتابعة كضيف
                    </button>
                </div>
                <p class="text-gray-400 mt-4">أو سجل دخول/أنشئ حساب لحفظ تقدمك:</p>
                <button id="show-email-auth-button" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-5 rounded-lg shadow-md transition duration-200 ease-in-out mt-2 w-full">
                    تسجيل دخول / إنشاء حساب
                </button>
                <button id="auth-flow-cancel-button" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-5 rounded-lg shadow-md transition duration-200 ease-in-out mt-2 w-full hidden">
                    إلغاء
                </button>
            </div>

            <div id="email-auth-section" class="hidden">
                <input type="email" id="auth-email-input" class="w-full p-3 rounded-lg bg-gray-800 text-white placeholder-gray-400 mb-4 focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="البريد الإلكتروني">
                <input type="password" id="auth-password-input" class="w-full p-3 rounded-lg bg-gray-800 text-white placeholder-gray-400 mb-6 focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="كلمة المرور" maxlength="20">
                <div class="flex justify-center gap-4">
                    <button id="auth-signup-button" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-5 rounded-lg shadow-md transition duration-200 ease-in-out">
                        إنشاء حساب
                    </button>
                    <button id="auth-signin-button" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-5 rounded-lg shadow-md transition duration-200 ease-in-out">
                        تسجيل دخول
                    </button>
                </div>
                <button id="back-to-name-section-button" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-5 rounded-lg shadow-md transition duration-200 ease-in-out mt-4 w-full">
                    العودة
                </button>
            </div>
        </div>
    </div>

    <div id="toast-notification" class="fixed top-4 left-1/2 -translate-x-1/2 px-4 py-2 rounded-lg shadow-lg opacity-0 transition-opacity duration-300 z-50">
    </div>

    <!-- ربط ملف JavaScript الخاص بك (script.js) -->
    <script type="module" src="script.js"></script>
</body>
</html>
